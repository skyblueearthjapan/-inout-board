<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base target="_top">
  <title>外出記入板</title>
  <?!= include('style'); ?>
</head>
<body>
  <div class="container">
    <!-- ヘッダー -->
    <header class="header">
      <h1 class="title">外出記入板</h1>
      <div class="header-controls">
        <div class="date-picker">
          <label for="dateInput">日付:</label>
          <input type="date" id="dateInput" />
        </div>
        <button id="reloadBtn" class="btn btn-secondary" title="再読込">
          <span class="btn-icon">↻</span> 再読込
        </button>
      </div>
    </header>
    
    <!-- ステータスメッセージ -->
    <div id="statusMessage" class="status-message hidden"></div>
    
    <!-- ローディング -->
    <div id="loading" class="loading">
      <div class="spinner"></div>
      <span>読み込み中...</span>
    </div>
    
    <!-- メインテーブル -->
    <div id="tableContainer" class="table-container hidden">
      <table class="outing-table">
        <thead>
          <tr>
            <th class="col-name">人員</th>
            <th class="col-destination">行先</th>
            <th class="col-date">出社日</th>
            <th class="col-time">帰社時刻</th>
            <th class="col-note">備考</th>
            <th class="col-action">操作</th>
          </tr>
        </thead>
        <tbody id="tableBody">
          <!-- 動的に生成 -->
        </tbody>
      </table>
    </div>
    
    <!-- 凡例とクリアボタン -->
    <div class="legend-container">
      <div class="legend">
        <div class="legend-item">
          <span class="legend-color legend-out"></span>
          <span>宿泊あり（出社日あり・帰社時刻なし）</span>
        </div>
        <div class="legend-item">
          <span class="legend-color legend-back"></span>
          <span>日帰り（帰社時刻あり）</span>
        </div>
      </div>
      <button id="clearAllBtn" class="btn btn-danger">すべてクリア</button>
    </div>
  </div>
  
  <!-- 初期日付を埋め込み -->
  <script>
    const INITIAL_DATE = '<?= initialDate ?>';
  </script>
  
  <?!= include('ui.js'); ?>
</body>
</html>
